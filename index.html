<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>To My Drama Queenüíñ</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600&display=swap');

    #envelope {
      position: relative;
      width: 350px;
      height: 250px;
      background: #ffcee4;
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(255, 105, 180, 0.5);
      cursor: pointer;
      overflow: hidden;
      transition: width 1s ease, height 1s ease;
      user-select: none;
    }
    #envelope.opening {
      animation: openEnvelope 1.2s forwards;
      cursor: default;
    }
    #envelope.open {
      width: 90vw;
      max-width: 900px;
      height: 80vh;
      background: #fff0f6;
      border-radius: 15px;
      box-shadow: 0 0 60px 20px rgba(255, 105, 180, 0.3);
      cursor: default;
    }

    /* Envelope flap */
    #envelope::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 60%;
      background: linear-gradient(135deg, #ff69b4 0%, #ff9bc1 100%);
      clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
      transform-origin: top center;
      transition: transform 1s ease;
      z-index: 10;
      box-shadow: 0 5px 15px rgba(255, 20, 147, 0.6);
    }
    #envelope.opening::before {
      animation: flapOpen 1s forwards;
    }
    #envelope.open::before {
      transform: rotateX(180deg);
    }

    /* Open Letter Button */
    #openBtn {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #ff6ec4, #7873f5);
      color: white;
      font-weight: 700;
      border: none;
      padding: 12px 30px;
      border-radius: 40px;
      font-size: 1.1rem;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      cursor: pointer;
      user-select: none;
      transition: background 0.4s ease;
      z-index: 15;
    }
    #openBtn:hover {
      background: linear-gradient(135deg, #7873f5, #ff6ec4);
    }

    /* LETTER CONTENT - initially hidden */
    #letterContent {
      opacity: 0;
      padding: 2rem 3rem;
      max-width: 100%;
      height: 100%;
      overflow-y: auto;
      font-family: 'Pacifico', cursive;
      font-size: 1.5rem;
      line-height: 2.3rem;
      white-space: pre-wrap;
      color: #ff4081;
      user-select: text;
      transition: opacity 1s ease;
    }

    /* Show letter content after open */
    #envelope.open #letterContent {
      opacity: 1;
    }

    /* TYPEWRITER styling */
    .typewriter {
      border-right: 0.15em solid #ff69b4;
      white-space: pre-wrap;
      overflow: hidden;
    }

    /* Next Button below letter */
    #nextPageBtn {
      display: none;
      margin-top: 2rem;
      padding: 1rem 2.5rem;
      font-size: 1.3rem;
      background: linear-gradient(to right, #ff6ec4, #7873f5);
      color: white;
      border: none;
      border-radius: 40px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease-in-out;
    }
    #nextPageBtn:hover {
      transform: scale(1.05);
      background: linear-gradient(to right, #7873f5, #ff6ec4);
    }

    /* Animations */
    @keyframes flapOpen {
      0% { transform: rotateX(0deg); }
      100% { transform: rotateX(180deg); }
    }

    @keyframes openEnvelope {
      0% {
        width: 350px; height: 250px;
      }
      100% {
        width: 90vw; max-width: 900px;
        height: 80vh;
      }
    }
    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #ffdee9, #b5fffc);
      color: #ff4081;
      overflow-x: hidden;
    }
    h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
      font-family: 'Pacifico', cursive;
      animation: popin 1s ease forwards;
      text-align: center;
    }
    p {
      font-size: 1.4rem;
      font-weight: 600;
      line-height: 1.6;
    }
    .page {
      max-width: 1000px;
      margin: auto;
      padding: 2rem 1rem;
      display: none;
    }
    .page.active {
      display: block;
      animation: fadeInScale 1s ease-in-out;
    }
    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }
    @keyframes popin {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }
    .card {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 30px;
      padding: 3rem 4rem;
      margin: 2rem 0;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      position: relative;
      animation: floatCard 3s ease-in-out infinite alternate;
      max-width: 700px;
    }
    @keyframes floatCard {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-10px); }
    }
    .typewriter {
      font-size: 1.3rem;
      border-right: .15em solid #ff69b4;
      white-space: pre-wrap;
      overflow: hidden;
      min-height: 260px;
      font-weight: 600;
    }
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #ff69b4; }
    }
    .hearts-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: pink;
      transform: rotate(45deg);
      animation: float 10s linear infinite;
      opacity: 0.8;
    }
    .heart::before, .heart::after {
      content: "";
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: pink;
      border-radius: 50%;
    }
    .heart::before {
      top: -10px;
      left: 0;
    }
    .heart::after {
      left: -10px;
      top: 0;
    }
    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }
    .btn-next {
      margin-top: 2rem;
      padding: 1rem 2.5rem;
      font-size: 1.2rem;
      background: linear-gradient(to right, #ff6ec4, #7873f5);
      color: white;
      border: none;
      border-radius: 40px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease-in-out;
      animation: popin 1.2s ease forwards;
      display: none;
    }
    .btn-next:hover {
      transform: scale(1.05);
      background: linear-gradient(to right, #7873f5, #ff6ec4);
    }
    .gif {
      border-radius: 30px;
      box-shadow: 0 5px 25px rgba(0,0,0,0.2);
      animation: pulse 3s ease-in-out infinite;
      display: block;
      margin: 1.5rem auto 0 auto;
      max-width: 100%;
      max-height: 250px;
      object-fit: cover;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    .floating-badge {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: #ff69b4;
      color: white;
      padding: 0.6rem 1.4rem;
      border-radius: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      font-weight: bold;
      animation: bounce 1.5s infinite;
      z-index: 10;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    .album-title {
      text-align: center;
      font-family: 'Pacifico', cursive;
      font-size: 2.8rem;
      margin-bottom: 1rem;
      color: #ff4081;
      animation: popin 1s ease forwards;
    }
    .album-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
      gap: 20px;
      padding: 0 1rem;
    }
    .album-grid img {
  width: 100%;
  border-radius: 25px;
  box-shadow: 0 10px 20px rgba(255,105,180,0.5);
  transition: transform 0.5s ease, box-shadow 0.5s ease;
  cursor: pointer;
  position: relative;
  z-index: 0;
}
.album-grid img:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 0 15px 30px rgba(255,105,180,0.8);
  z-index: 1;
}

/* Heart border overlay */
.album-grid img:hover::after {
  content: "‚ù§Ô∏è";
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 24px;
  pointer-events: none;
  animation: pulseHeart 1.5s infinite;
  z-index: 2;
  filter: drop-shadow(0 0 3px #ff69b4);
}

@keyframes pulseHeart {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.7; }
}

/* Album and wrapper from previous example, plus: */

.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(255, 192, 203, 0.95);
  backdrop-filter: blur(8px);
  text-align: center;
  padding: 3rem 1rem;
  box-sizing: border-box;
}

.modal img {
  max-width: 90vw;
  max-height: 70vh;
  border-radius: 30px;
  box-shadow: 0 15px 30px rgba(255,105,180,0.8);
  transition: transform 0.3s ease;
}

.modal p {
  font-size: 1.5rem;
  color: #ff4081;
  font-weight: 600;
  margin: 1.5rem 0 0 0;
  font-family: 'Pacifico', cursive;
}

.close-btn {
  position: absolute;
  top: 2rem;
  right: 2rem;
  font-size: 3rem;
  color: #ff69b4;
  background: transparent;
  border: none;
  cursor: pointer;
  transition: color 0.3s ease;
}

.close-btn:hover {
  color: #ff0066;
}

.nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: none;
  font-size: 3rem;
  color: #ff69b4;
  cursor: pointer;
  user-select: none;
  transition: color 0.3s ease;
  padding: 0 1rem;
}

#prevBtn {
  left: 2rem;
}

#nextBtn {
  right: 2rem;
}

.nav-btn:hover {
  color: #ff0066;
}

.modal-hearts {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  pointer-events: none;
  overflow: hidden;
  z-index: -1;
}

/* Reuse heart animation from before for modal hearts */
.heart {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: pink;
  transform: rotate(45deg);
  animation: float 10s linear infinite;
}
.heart::before, .heart::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: pink;
  border-radius: 50%;
}
.heart::before {
  top: -10px;
  left: 0;
}
.heart::after {
  left: -10px;
  top: 0;
}
@keyframes float {
  0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
}
  </style>
</head>
<body>
    <audio id="tumseAudio" src="tumse.mp3" preload="auto" loop></audio>

<center>
    <div id="envelope">
        <button id="openBtn">üì© Open Letter!</button>
        <div id="letterContent" class="typewriter"></div>      
      </div><br>
      <button onclick="album();" id="toAlbumBtn" style="display:flex; margin-top: 1rem; padding: 12px 30px; font-size: 1.1rem; border-radius: 40px; border: none; background: linear-gradient(135deg, #ff69b4, #ff85c0); color: white; cursor: pointer; user-select: none;">
        üå∏ Next
    </button>
</center>
    
  <div class="hearts-bg"></div>

  <!-- Photo Album Page -->
  <div class="page" id="albumPage">
    <h1 class="album-title">üåü World's Best BFF üåü</h1>
    <div class="album-grid">
        <div class="img-wrapper" data-index="0" data-caption="Your smile lights up my day!"><img src="pic_1.jpeg" alt="Pari 1" /></div>
        <div class="img-wrapper" data-index="1" data-caption="Best vibes only with you üíñ"><img src="pic_2.jpeg" alt="Pari 2" /></div>
        <div class="img-wrapper" data-index="2" data-caption="You + Me = Best BFFs forever!"><img src="pic_3.jpeg" alt="Pari 3" /></div>
        <div class="img-wrapper" data-index="3" data-caption="Every moment with you is magic ‚ú®"><img src="pic_4.jpeg" alt="Pari 4" /></div>
      </div>
      
      <!-- Modal for enlarged images -->
      <div id="modal" class="modal">
        <button id="closeModal" class="close-btn">&times;</button>
        <img id="modalImg" src="" alt="Enlarged Pari Pic" />
        <p id="modalCaption"></p>
        <button id="prevBtn" class="nav-btn">&#10094;</button>
        <button id="nextBtn" class="nav-btn">&#10095;</button>
        <div class="hearts-bg modal-hearts"></div>
      </div>
      <center>
      <button class="btn-next" style="display: block;" id="toAwardBtn">Next</button>
      </center>
</div>

  <!-- Award Page -->
  <center>
  <div class="page" id="awardPage">
    <div class="card">
      <h1>üèÜ Best BFF Ever: PARI! üéâ</h1>
      <img src="https://media.tenor.com/r95qVGJtubEAAAAi/crown.gif" class="gif" alt="Award" />
      <p style="margin-top: 1rem; font-size: 1.4rem;">Here's your official crown üëë for being the cutest and kindest bestie anyone could ask for üíñ</p>
    </div>
  </div>
  </center>

  <script>
const audio = document.getElementById('tumseAudio');
  audio.currentTime = 0; // rewind to start
const albumImages = document.querySelectorAll('.img-wrapper');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const modalCaption = document.getElementById('modalCaption');
const closeModalBtn = document.getElementById('closeModal');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const albumBtn = document.getElementById('toAlbumBtn');
const envelope = document.getElementById('envelope');
const openBtn = document.getElementById('openBtn');
const letterContent = document.getElementById('letterContent');
const nextPageBtn = document.getElementById('nextPageBtn');

    const letterLines = [
      "Dear Pari, üíï",
      "I‚Äôm so excited we‚Äôve become best friends! üå∏",
      "Every time we talk, I feel like I‚Äôm getting a treasure ‚Äî a friendship so sweet and rare. üç¨",
      "You‚Äôre like a bright star lighting up even the dullest days. ‚ú®",
      "Your laugh is my new favorite sound, and your voice is pure magic. üé∂",
      "I can already tell we‚Äôll share tons of laughter and endless adventures ahead! üé¢",
      "Thank you for being YOU ‚Äî so kind, funny, and just absolutely wonderful. üåà",
      "Even though we‚Äôre just starting this journey, I already feel so lucky. üçÄ",
      "Looking forward to all the memories we'll create together! ü•∞",
      "You‚Äôre beautiful inside and out, Pari. Never forget that. üå∑",
      "With all my heart, your new bestie. üíñ",
      "PS: This is just the beginning‚Ä¶ üòä"
    ];

    let currentLine = 0;
    let currentChar = 0;
    let typingSpeed = 60; // ms per character

    function typeLetter() {
  if (currentLine >= letterLines.length) {
    // Typing complete - show button now
    albumBtn.style.display = 'inline-block';
    return;
  }

  let line = letterLines[currentLine];
  letterContent.textContent += line.charAt(currentChar);
  currentChar++;

  if (currentChar === line.length) {
    letterContent.textContent += "\n\n";
    currentLine++;
    currentChar = 0;

    if (currentLine >= letterLines.length) {
      // All lines typed, show button after a short pause
      setTimeout(() => {
        albumBtn.style.display = 'inline-block';
      }, typingSpeed * 5);
      return;
    } else {
      setTimeout(typeLetter, typingSpeed * 10); // pause between lines
    }
  } else {
    setTimeout(typeLetter, typingSpeed);
  }
}

    openBtn.addEventListener('click', () => {
      envelope.classList.add('opening');

      setTimeout(() => {
        envelope.classList.add('open');
        envelope.classList.remove('opening');
        openBtn.style.display = 'none';
        letterContent.textContent = '';
        typeLetter();
      }, 1000); // flap animation duration
    });


    

let currentIndex = 0;

function showModal(index) {
  const imgWrapper = albumImages[index];
  const img = imgWrapper.querySelector('img');
  modalImg.src = img.src;
  modalCaption.textContent = imgWrapper.dataset.caption;
  modal.style.display = 'block';
  currentIndex = index;
  createFloatingHearts();
}

albumImages.forEach((wrapper, idx) => {
  wrapper.addEventListener('click', () => {
    showModal(idx);
  });
});

closeModalBtn.addEventListener('click', () => {
  modal.style.display = 'none';
  removeFloatingHearts();
});

// Navigate photos
prevBtn.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + albumImages.length) % albumImages.length;
  showModal(currentIndex);
});
nextBtn.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % albumImages.length;
  showModal(currentIndex);
});

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (modal.style.display === 'block') {
    if (e.key === 'ArrowLeft') prevBtn.click();
    else if (e.key === 'ArrowRight') nextBtn.click();
    else if (e.key === 'Escape') closeModalBtn.click();
  }
});

// Floating hearts inside modal
function createFloatingHearts() {
  const heartsBg = modal.querySelector('.modal-hearts');
  heartsBg.innerHTML = '';
  for (let i = 0; i < 20; i++) {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.animationDuration = (5 + Math.random() * 5) + 's';
    heart.style.backgroundColor = ['#ffb6c1', '#ffc0cb', '#ff69b4'][Math.floor(Math.random() * 3)];
    heartsBg.appendChild(heart);
  }
}

function removeFloatingHearts() {
  const heartsBg = modal.querySelector('.modal-hearts');
  heartsBg.innerHTML = '';
}

    // floating hearts
    for (let i = 0; i < 30; i++) {
      let heart = document.createElement('div');
      heart.className = 'heart';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (5 + Math.random() * 5) + 's';
      heart.style.backgroundColor = ['#ffb6c1', '#ffc0cb', '#ff69b4'][Math.floor(Math.random() * 3)];
      document.querySelector('.hearts-bg').appendChild(heart);
    }

    // Long letter text with line breaks and emojis

    // Typewriter effect variables
    const typeText = document.getElementById('typeText');

    

    // Navigation buttons
    document.getElementById('toAlbumBtn').addEventListener('click', () => {
      document.getElementById('letterPage').classList.remove('active');
      document.getElementById('albumPage').classList.add('active');
    });

    document.getElementById('toAwardBtn').addEventListener('click', () => {
      document.getElementById('albumPage').classList.remove('active');
      audio.pause();
      document.getElementById('awardPage').classList.add('active');
      new Audio('cheer.mp3').play();
    });

    function album(){
        document.getElementById("toAlbumBtn").style.display = "none";
        document.getElementById("envelope").classList.remove("active");
        document.getElementById("envelope").classList.add("active");
        document.getElementById("toAlbumBtn").style.display = "none";
        audio.play().catch(err => {
        console.error("Audio play failed:", err);
  });
    }

    function final(){
        document.getElementById("toAlbumBtn").style.display = "none";
        document.getElementById("envelope").style.display = "none";
        document.getElementById("albumPage").style.display = "none";
        document.getElementById("toAlbumBtn").style.display = "none";
    }

    toAlbumBtn.addEventListener('click', () => {
  // Hide envelope
  envelope.style.display = 'none';

  // Show album page
  const albumPage = document.getElementById('albumPage');
  albumPage.classList.add('active');
});

  </script>
</body>
</html>
